{% extends 'Shop/base.html' %}
{% load static %}
{% block content %}
    <div class="h-screen">
        <div class="grid grid-cols-2 gap-2 h-full">
            <div class="flex flex-col p-20 items-center h-full">
                <div class="relative img-height">
    <!-- Carousel Items -->
    <div class="carousel flex overflow-hidden rounded-lg shadow-md h-full">
      <img src="https://images.unsplash.com/photo-1586802978403-6406fb3ddfff?q=80&w=2500&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Plant 1" class="w-full h-full object-cover">
      <img src="https://images.unsplash.com/photo-1545239705-1564e58b9e4a?q=80&w=2787&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="Plant 2" class="w-full h-full object-cover hidden">
      <img src="https://www.shelmerdine.com/wp-content/uploads/2018/08/Fiddle-Leaf-Fig-Tree.jpg" alt="Plant 3" class="w-full h-full object-cover hidden">
    </div>

    <!-- Navigation Buttons -->
    <button class="absolute left-0 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white p-2 rounded-full hover:bg-gray-600 transition duration-300" onclick="prevSlide()">&#10094;</button>
    <button class="absolute right-0 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white p-2 rounded-full hover:bg-gray-600 transition duration-300" onclick="nextSlide()">&#10095;</button>
  </div>
            </div>
            <div class="h-full pt-5 overflow-y-scroll no-scrollbar">
                <div class="flex flex-col w-full p-6">
  <!-- Plant Name -->
  <h1 class="text-4xl font-bold mb-4 text-gray-800">{{ name }}</h1>

  <!-- Price -->
  <p class="text-2xl font-semibold text-green-700 mb-4">${{ price }}</p>

  <!-- Description -->
  <p class="text-gray-700 mb-6">
    {{ description }}
  </p>

  <!-- Quantity Selector -->
  <div class="flex items-center mb-4">
    <label for="quantity" class="mr-3 text-gray-700">Quantity:</label>
    <input type="number" id="quantity" name="quantity" min="1" value="1" class="w-16 p-2 border border-gray-300 rounded">
  </div>

  <!-- Add to Cart Button -->
  <button class="bg-green-600 text-white py-3 px-6 rounded-lg shadow-md hover:bg-green-700 transition duration-300 mb-4">
    Add to Cart
  </button>

  <!-- Expiration Notice -->
  <p class="text-red-500 mb-6 font-semibold">
    Hurry! Only {{ expiry }} days left until this plant is removed from the store.
  </p>

  <!-- Additional Information -->
  <div class="mt-6">
    <h2 class="text-2xl font-semibold mb-4 text-gray-800">Plant Care Instructions</h2>
    <ul class="list-disc list-inside text-gray-700 mb-6">
      <li>Water once a week</li>
      <li>Place in indirect sunlight</li>
      <li>Keep in a well-drained pot</li>
    </ul>

    <h2 class="text-2xl font-semibold mb-4 text-gray-800">Customer Reviews</h2>
    <div class="bg-gray-100 p-4 rounded-lg shadow-inner mb-4">
      <p class="font-semibold">John Smith</p>
      <p class="text-gray-700">"Very easy to take care of and arrived in perfect condition."</p>
    </div>
    <div class="bg-gray-100 p-4 rounded-lg shadow-inner">
      <p class="font-semibold">John Smith</p>
      <p class="text-gray-700">"Very easy to take care of and arrived in perfect condition."</p>
    </div>
      <div class="mt-6">
      <h2 class="text-2xl font-semibold mb-4 text-gray-800">Add a Review</h2>
      <form method="post" class="bg-white rounded-lg">
        <div class="mb-4">
          <label for="reviewer" class="block text-gray-700 font-semibold mb-2">Your Name</label>
          <input type="text" id="reviewer" name="reviewer" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600" required>
        </div>
        <div class="mb-4">
          <label for="review" class="block text-gray-700 font-semibold mb-2">Your Review</label>
          <textarea id="review" name="review" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600" rows="4" required></textarea>
        </div>
        <button type="submit" class="bg-green-600 text-white py-3 px-6 rounded-lg shadow-md hover:bg-green-900 transition duration-300">
          Submit Review
        </button>
      </form>
    </div>
  </div>
</div>

            </div>
        </div>
    </div>
    <script>
        let currentIndex = 0;
  const slides = document.querySelectorAll('.carousel img');

  function showSlide(index) {
    slides.forEach((slide, i) => {
      slide.classList.toggle('hidden', i !== index);
    });
  }

  function nextSlide() {
    currentIndex = (currentIndex + 1) % slides.length;
    showSlide(currentIndex);
  }

  function prevSlide() {
    currentIndex = (currentIndex - 1 + slides.length) % slides.length;
    showSlide(currentIndex);
  }

  showSlide(currentIndex)
    </script>
{% endblock %}